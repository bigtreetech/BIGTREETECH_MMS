#--------------------------- MMS Purge Module Configuration ---------------------------#
[mms purge]
enable:                  1     # Purge module enable (0=disable, 1=enable)
z_raise:                 1.0   # Z-axis lift distance during purge (mm)

#--------------------------- Cooling Fan Settings ---------------------------#
fan_cooldown_speed:      1.0   # Fan speed during cooldown (0.0-1.0, 0% to 100%)
fan_cooldown_wait:       2.0   # Cooldown duration with fan (seconds)

#--------------------------- Purge Extrusion Settings ---------------------------#
purge_speed:             600.0 # Extruder speed during purging (mm/min)

#--------------------------- Orphan Filament Settings ---------------------------#
# Orphan filament: residual segment between cutter and nozzle after cutting.
# This must be purged during subsequent purge process.
#
#     | | Extruder | |
#     | | Stepper  | |
#     | +----------+ |
#  ======> Cutter    | ---
#     |              |  |
#      \            /   | orphan filament
#       \  Nozzle  /    | length
#        \        /     |
#         \______/     ---
#
orphan_filament_length:  60    # Length of orphan filament to purge (mm)
purge_modifier:          2.5   # Multiplier for purge volume calculation

#--------------------------- Retraction Compensation ---------------------------#
retraction_compensation: 3.0   # Prevents underextrusion after purging (mm)
retract_speed:           10000.0 # Retraction speed (mm/min)

#--------------------------- Nozzle Priming Settings ---------------------------#
nozzle_priming_dist:     20.0  # Priming distance (mm)
nozzle_priming_speed:    600.0 # Priming speed (mm/min)

#--------------------------- Pressure Pulse Cleaning Configuration ---------------------------#
pulse_clean_enable:      0     # Enable alternating extrude/retract pulses (0=disable, 1=enable)
pulse_rest_time:         0.1   # Pause between pulses (seconds)
pulse_count:             4     # Number of pulse cycles
pulse_speed:             1200.0 # Speed for pulse movements (mm/min)
retract_dist:            10    # Retraction distance per pulse (mm)
extrude_dist:            5     # Extrusion distance per pulse (mm)

#--------------------------- Purge Tray Configuration ---------------------------#
# Diagram of purge tray layout:
# -------------------------------
# |                             |
# | ------                      |
# | |Tray|                      |
# | | 0  |                      |
# | ------                      |
# |   1                         |
# |                             |
# |                             |
# -------------------------------
axis_first:              Y              # Order to process axis from tray_point. Options: 'X', 'Y', 'XY'.
tray_point:              (100.0, 100.0) # Purge tray location (X/Y)
# eject_point:           (100.0, 80.0)  # Filament eject position (X/Y)

#--------------------------- Custom Macro (Optional) ---------------------------#
# custom_before:         MMS_PURGE_CUSTOM_BEFORE
# custom_after:          MMS_PURGE_CUSTOM_AFTER

#--------------------------- MMS Brush Module Configuration ---------------------------#
[mms brush]
enable:                  1     # Brush module enable (0=disable, 1=enable)
z_raise:                 1.0   # Z-axis lift distance during brush (mm)

#--------------------------- Cooling Fan Settings ---------------------------#
fan_cooldown_speed:      1.0   # Fan speed during cooldown (0.0-1.0, 0% to 100%)
fan_cooldown_wait:       1.0   # Cooldown duration with fan (seconds)

#--------------------------- Brush Wiping Configuration ---------------------------#
wipe_points:             (100.0, 100.0), (80.0, 100.0) # Sequential wipe points (X/Y)
wipe_speed:              10000.0 # Wiping movement speed (mm/min)
wipe_times:              5     # Number of wiping passes

#--------------------------- Brush Pecking Configuration ---------------------------#
peck_point:              (100.0, 100.0) # Peck position (X/Y)
peck_speed:              10000.0 # Pecking movement speed (mm/min)
peck_depth:              2.0   # Depth of each peck (mm)
peck_times:              0     # Number of pecking cycles

#--------------------------- Custom Macro (Optional) ---------------------------#
# custom_before:         MMS_BRUSH_CUSTOM_BEFORE
# custom_after:          MMS_BRUSH_CUSTOM_AFTER
